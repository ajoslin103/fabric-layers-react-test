<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>fabric-layers-react Test</title>
  <style>
    #canvas-container {
      width: 800px;
      height: 600px;
      border: 1px solid #ccc;
      margin: 20px auto;
    }
  </style>
</head>
<body>
  <h1>fabric-layers-react Test</h1>
  <div id="canvas-container"></div>

  <!-- Load dependencies -->
  <script src="./node_modules/fabric-pure-browser/dist/fabric.js"></script>
  <script src="./node_modules/eventemitter2/lib/eventemitter2.js"></script>
  <script src="./node_modules/react/umd/react.development.js"></script>
  <script src="./node_modules/react-dom/umd/react-dom.development.js"></script>
  
  <!-- Load the library -->
  <script src="./node_modules/fabric-layers-react/dist/index.umd.js"></script>
  
  <script>
    // Display version information
    console.log('fabric-layers-react version:', FabricLayersReact.version);
    console.log('Available exports:', Object.keys(FabricLayersReact));
    
    // Initialize a simple test
    document.addEventListener('DOMContentLoaded', function() {
      try {
        const container = document.getElementById('canvas-container');
        
        // Create a coordinate plane
        const plane = new FabricLayersReact.CoordinatePlane(container, {
          gridEnabled: true,
          zoomEnabled: true,
          selectEnabled: true
        });
        
        console.log('CoordinatePlane created successfully:', plane);
        
        // Add a status message to the page
        const status = document.createElement('div');
        status.innerHTML = '<p>Library loaded successfully!</p>';
        document.body.appendChild(status);
      } catch (error) {
        console.error('Error initializing fabric-layers-react:', error);
        
        // Add error message to the page
        const errorDiv = document.createElement('div');
        errorDiv.style.color = 'red';
        errorDiv.innerHTML = '<p>Error: ' + error.message + '</p>';
        document.body.appendChild(errorDiv);
      }
    });
  </script>
</body>
</html>
